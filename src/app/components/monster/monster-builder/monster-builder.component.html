MultiAttackers: {{multiAttackers}}
<h3>Shown - {{checked? 'Monster Manual':'SRD'}}</h3>
<p-inputSwitch [(ngModel)]="checked"></p-inputSwitch>
<div *ngIf="filMon && txtmonsters">
    <p-button (onClick)="copyInputMessage()" label="Copy JSON"></p-button>

    <p-accordion>
        <p-accordionTab header="MonsterJSON" #jsonBlock>
            {{copyVal}}
        </p-accordionTab>
    </p-accordion>

    <p-table #dt [columns]="cols" [value]="data[1]" dataKey="name" [paginator]="true" [rows]="20" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" (onRowSelect)="onRowSelect($event)" (onRowUnselect)="onRowSelect($event)"
        [(selection)]="selectedMonsters" selectionMode="single">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th style="width: 3em">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th style="width: 3em"></th>
                <th *ngFor="let col of columns">
                    {{col.header}}
                </th>
                <!-- <th>
                Filled
            </th> -->
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-expanded="expanded" let-columns="columns" let-i="rowIndex">
            <tr>
                <td>
                    <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
                </td>
                <td>
                    <a href="#" [pRowToggler]="rowData">
                        <i [ngClass]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i>
                    </a>
                </td>
                <td>{{rowData.name}}
                </td>
                <td>{{checked? rowData.page.book: 'SRD'}}
                </td>
                <td>{{checked?rowData.challenge:rowData.challenge_rating}}
                </td>
                <!-- <td>
                <i class="pi pi-check" *ngIf="rowData.flavor_text"></i>
            </td> -->
            </tr>
        </ng-template>
        <ng-template pTemplate="rowexpansion" let-rowData let-columns="columns" let-i="rowIndex">
            <tr>
                <td [attr.colspan]="columns.length + 2">
                    <div class="ui-g ui-fluid" style="font-size:16px;padding:20px">
                        <!-- {{i}} -->
                        <!-- <textarea [(ngModel)]="rowData.page_desc" autoResize="autoResize" pInputTextarea></textarea> -->
                        <!-- {{rowData| json}} -->
                        <app-stat-block [Monster]="data[1][i]"></app-stat-block>



                        <p-accordion>
                            <p-accordionTab header="Description">
                                <textarea pInputTextarea [(ngModel)]="data[0][i].page_desc" autoResize="autoResize"></textarea>
                                <!-- <div>{{fromPageDesc(rowData) | json}}</div> -->
                            </p-accordionTab>
                            <!-- {{rowData| json}} -->
                            <p-accordionTab header="Flavor Text">
                                <!-- 
                            {{filmon[i]| json}}-->
                                <div>{{data[1][i]| json}}</div>
                                <!-- 
                            <textarea pInputTextarea [(ngModel)]="rowData.flavor_text" autoResize="autoResize"></textarea>-->
                            </p-accordionTab>
                        </p-accordion>

                    </div>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>