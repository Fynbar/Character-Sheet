<!-- MultiAttackers: {{multiAttackers}}
<h3>Shown - {{checked? 'Monster Manual':'SRD'}}</h3>
<p-inputSwitch [(ngModel)]="checked"></p-inputSwitch> -->
<div *ngIf="copyVal">
    <p-button (onClick)="copyInputMessage()" label="Copy JSON"></p-button>

    <p-accordion>
        <p-accordionTab header="MonsterJSON" #jsonBlock>
            {{copyVal}}
        </p-accordionTab>
    </p-accordion>

    <p-table #dt [columns]="cols" [value]="this.jsonMonsters" dataKey="name" [paginator]="true" [rows]="5" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" (onRowSelect)="onRowSelect($event)" (onRowUnselect)="onRowSelect($event)"
        [(selection)]="selectedMonsters" selectionMode="single">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th style="width: 3em">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th style="width: 3em"></th>
                <th *ngFor="let col of columns">
                    {{col.header}}
                </th>
                <!-- <th>
                Filled
            </th> -->
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-expanded="expanded" let-columns="columns" let-i="rowIndex">
            <tr>
                <td>
                    <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
                </td>
                <td>
                    <a href="#" [pRowToggler]="rowData">
                        <i [ngClass]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i>
                    </a>
                </td>
                <td>{{rowData.name}}
                </td>
                <!-- <td>{{checked? rowData.page.book: 'SRD'}} -->
                <td>{{rowData.page}}
                </td>
                <td>{{rowData.challenge}}
                </td>
                <!-- <td>
                <i class="pi pi-check" *ngIf="rowData.flavor_text"></i>
            </td> -->
            </tr>
        </ng-template>
        <ng-template pTemplate="rowexpansion" let-rowData let-columns="columns" let-i="rowIndex">
            <tr>
                <td [attr.colspan]="columns.length + 2">
                    <div class="ui-g ui-fluid" style="font-size:16px;padding:20px">
                        <!-- {{i}} -->
                        <textarea [(ngModel)]="rowData.name" autoResize="true"></textarea>
                        <div>{{autoFormattedMonters[i] | json}}</div>
                        <textarea pInputTextarea [(ngModel)]="rowData.page_desc" columns="50" autoResize="true"></textarea>
                        <textarea pInputTextarea [(ngModel)]="rowData.flavor_text" columns="50" autoResize="autoResize"></textarea>

                        <!-- {{rowData| json}} -->
                        <!-- <app-stat-block (updatedCreature)="updateMonster($event, i)" [Monster]="rowData">
                        </app-stat-block>
                      -->
                    </div>
                    <!--
                </td>
            </tr>
            <tr>
                <td [attr.colspan]="columns.length + 2">
                    <p-accordion>
                        <p-accordionTab header="Description">
                            <textarea pInputTextarea [(ngModel)]="rowData.page_desc" columns="50" autoResize="autoResize"></textarea>
                        </p-accordionTab>
                        <p-accordionTab header="JSON">
                            {{rowData | json}}
                        </p-accordionTab>
                    </p-accordion>-->
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>